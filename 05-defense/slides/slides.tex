\documentclass{curs}

% Comment out lines below in case of no code to be included.
%\usepackage{code/highlight}
\usepackage{color}
\usepackage{graphicx}
%\usepackage{alltt}


\title[Session 05]{Session 05}
\subtitle{Defense and Mitigation}
\author{Security of Information Systems (SIS)}
\date{October 26, 2018}

\begin{document}

\frame{\titlepage}

\begin{frame}{Attack and Defense}
  \begin{itemize}
    \item attack: exploit vulnerabilities
    \item defense: prevent attacks, make attacks difficult, confine attacks
    \item attacker needs to find one security hole
    \item defender has to protect all security holes
    \item attacker invests time
    \item defense mechanisms incur overhead
  \end{itemize}
\end{frame}


\section{Attacker Perspective}

\begin{frame}{Attacker Goals}
  \begin{itemize}
    \item control
    \item cripple
    \item steal
  \end{itemize}
\end{frame}

\begin{frame}{Exploit}
  \begin{itemize}
    \item determine entries/input
    \item graph/automaton describes system/application behavior
    \item subvert graph
      \begin{itemize}
        \item add new nodes (inject)
        \item add new edges
        \item use existing paths in a different way
      \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{Attack Vector}
  \begin{itemize}
    \item chain together multiple exploits
    \item gain access, gain privileged access, cripple, steal
    \item use vulnerabilities in software, system, web
  \end{itemize}
\end{frame}


\section{Defender Perspective}

\begin{frame}{Time}
  \begin{itemize}
    \item always on the attacker side
    \item prevent attacks is better than handling attacks
  \end{itemize}
\end{frame}

\begin{frame}{System Components}
  \begin{itemize}
    \item protect everything
    \item attacker need only find \textbf{one} flaw
    \item defense in depth
  \end{itemize}
\end{frame}

\begin{frame}{Prevention}
  \begin{itemize}
    \item preventive/proactive is better than reactive
    \item harden system components
    \item monitor everything
  \end{itemize}
\end{frame}

\begin{frame}{Security vs Speed}
  \begin{itemize}
    \item any defense mechanism incurs overhead
    \item use both offline (check at development time) and online mechanisms (check/harden during run-time)
  \end{itemize}
\end{frame}

\begin{frame}{Handling Complexity}
  \begin{itemize}
    \item automate processes
    \item verification and validation
    \item check before deployment
    \item prioritize critical parts
  \end{itemize}
\end{frame}

\begin{frame}{Monitoring}
  \begin{itemize}
    \item paranoia is a virtue
    \item frequent updates
    \item be on the lookout for CVEs
  \end{itemize}
\end{frame}


\section{Generic Defensive Techniques}

\begin{frame}{TODO}
  \begin{itemize}
    \item TODO
  \end{itemize}
\end{frame}


\section{Application Defense}

\begin{frame}{Mindset}
  \begin{itemize}
    \item application is target of attacker
    \item input minimization, input validation
    \item you deploy an app that may have flaws or may be malware
    \item memory disclosure attacks, application control
  \end{itemize}
\end{frame}

\begin{frame}{Goal}
  \begin{itemize}
    \item prevent control flow hijacking
    \item prevent memory/information disclosure
    \item be on the look for policy flaws that may allow the app to leak information
  \end{itemize}
\end{frame}

\begin{frame}{CFI}
  \begin{itemize}
    \item Control Flow Integrity
    \item make sure control flow graph is unchanged during run
    \item high overhead
    \item fine-grained vs coarse grained CFI
  \end{itemize}
\end{frame}

\begin{frame}{Code Pointers}
  \begin{itemize}
    \item critical memory data
    \item target for attacker for control flow hijacking
    \item function return addresses, function pointers
    \item Code Pointer Integrity (faster approache to CFI)
  \end{itemize}
\end{frame}

\begin{frame}{Prevent Vulnerabilities vs Prevent Exploiting vs Make Unlikely vs Confine}
  \begin{itemize}
    \item prevent vulnerabilities: secure coding, verification, fuzzing, symbolic execution, type safety, safe programming languages (later sessions)
    \item prevent exploiting: ASan, StackGuard (canaries), SafeStack, CFI, input validation, DEP
    \item make unlikely: ASLR, multiple heaps
    \item confine: sandboxing, privacy settings, access control settings, SFI (Software Fault Isolation) (later sessions)
  \end{itemize}
\end{frame}

\begin{frame}{Stack Guard / Address Sanitizer}
  \begin{itemize}
    \item TODO
  \end{itemize}
\end{frame}

\begin{frame}{Input Validation}
  \begin{itemize}
    \item TODO
  \end{itemize}
\end{frame}

\begin{frame}{CFI}
  \begin{itemize}
    \item monitor control graph
    \item monitor calls, jumps, branches
    \item aim to do it without incurring significant overhead
    \item may happen offline
  \end{itemize}
\end{frame}

\begin{frame}{SafeStack}
  \begin{itemize}
    \item store code pointers in a separate stack
    \item buffer overflows will not overflow code pointers
    \item provide specific methods to access safe stack data
  \end{itemize}
\end{frame}

\begin{frame}{DEP}
  \begin{itemize}
    \item Data Execution Prevention
    \item TODO
  \end{itemize}
\end{frame}

\begin{frame}{ASLR}
  \begin{itemize}
    \item Address Space Layout Randomization
    \item TODO
  \end{itemize}
\end{frame}

\section{Web Application Defense}

\begin{frame}{General}
  \begin{itemize}
    \item Secure configuration
    \item Input sanitization
    \item Trusted connection
    \item No vulnerable dependencies
  \end{itemize}
\end{frame}

\begin{frame}{Verification}
  \begin{itemize}
    \item Client side
    \item Server side
  \end{itemize}
\end{frame}

\begin{frame}{Connection}
  \begin{itemize}
    \item HTTPS, SSL/TLS
    \item Certificate
    \item Downgrade attacks
  \end{itemize}
\end{frame}

\begin{frame}{Secure HTTP Headers}
  \begin{itemize}
    \item HTTP Strict Transport Security (HSTS)
    \item X-Frame-Options
    \item X-XSS-Protection
    \item X-Content-Type-Options
    \item Content-Security-Policy
    \item Referrer-Policy
    \item Expect-CT
  \end{itemize}
\end{frame}

\begin{frame}{Database protection}
  \begin{itemize}
    \item SANITIZE queries
    \item Encrypt data at rest
    \item Encrypt data in transit
    \item SANITIZE queries
  \end{itemize}
\end{frame}


\section{Operating System Defense}

\begin{frame}{General System Defense}
  \begin{itemize}
    \item Intrusion Detection System
    \item Intrusion Prevention System
  \end{itemize}
\end{frame}

\begin{frame}{Signing}
  \begin{itemize}
    \item Secure boot
    \item Application signing
  \end{itemize}
\end{frame}

\begin{frame}{Sandboxing}
  \begin{itemize}
    \item Mandatory Access Control
      \begin{itemize}
        \item SELinux
        \item SMACK
        \item AppArmor
        \item TOMOYO
      \end{itemize}
    \item seccomp
  \end{itemize}
\end{frame}

\begin{frame}{Kernel Config}
  \begin{itemize}
    \item CONFIG_HARDENED_USERCOPY
    \item CONFIG_FORTIFY_SOURCE
    \item CONFIG_RANDOMIZE_BASE (KASLR)
    \item CONFIG_KASAN
    \item CONFIG_UBSAN
    \item In development
      \begin{itemize}
        \item KTSAN
        \item KMSAN
      \end{itemize}
    \item grsecurity
  \end{itemize}
\end{frame}


\section{Summary}

\begin{frame}{TODO}
  \begin{itemize}
    \item TODO
  \end{itemize}
\end{frame}

\begin{frame}{Keywords}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \begin{itemize}
        \item TODO
      \end{itemize}
    \end{column}
    \begin{column}{0.5\textwidth}
      \begin{itemize}
        \item TODO
      \end{itemize}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}{Resources}
  \begin{itemize}
    \item \href{https://letsencrypt.org/}{Let's Encrypt}
    \item \href{https://www.youtube.com/watch?v=MFol6IMbZ7Y}{Defeating SSL Using Sslstrip}
    \item \href{https://www.owasp.org/index.php/OWASP_Secure_Headers_Project}{OWASP Secure Headers Project}
  \end{itemize}
\end{frame}

\begin{frame}{Nice to read}
  \begin{itemize}
    \item 
  \end{itemize}
\end{frame}

\end{document}
